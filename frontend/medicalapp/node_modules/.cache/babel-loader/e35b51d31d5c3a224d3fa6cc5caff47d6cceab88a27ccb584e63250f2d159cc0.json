{"ast":null,"code":"import axios from \"axios\";\nimport { reactLocalStorage } from \"reactjs-localstorage\";\nconst {\n  default: AuthHandler\n} = require(\"./AuthHandler\");\nconst {\n  default: Config\n} = require(\"./config\");\nclass APIHandler {\n  async checkLogin() {\n    if (AuthHandler.checkTokenExpiry()) {\n      var response = await axios.post(Config.refreshApiUrl, {\n        refresh: AuthHandler.getRefreshToken()\n      });\n    }\n    reactLocalStorage.set(\"token\", response.data.access);\n  }\n  async saveCompanyData(name, license_no, address, contact_no, email, description) {\n    this.checkLogin();\n    var response = await axios.post(Config.companyApiUrl, {\n      name\n    });\n  }\n}\nexport default APIHandler;","map":{"version":3,"names":["axios","reactLocalStorage","default","AuthHandler","require","Config","APIHandler","checkLogin","checkTokenExpiry","response","post","refreshApiUrl","refresh","getRefreshToken","set","data","access","saveCompanyData","name","license_no","address","contact_no","email","description","companyApiUrl"],"sources":["D:/Medical/ReactMedical/medicalapp/src/utils/APIHandler.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { reactLocalStorage } from \"reactjs-localstorage\";\r\nconst { default: AuthHandler } = require(\"./AuthHandler\");\r\n\r\nconst {default: Config} = require (\"./config\")\r\n\r\n\r\n \r\nclass APIHandler{\r\n    async checkLogin(){\r\n        if(AuthHandler.checkTokenExpiry()){\r\n            var response = await axios.post(Config.refreshApiUrl,{\r\n                refresh: AuthHandler.getRefreshToken()}) \r\n            \r\n        }\r\n        reactLocalStorage.set(\"token\",response.data.access)\r\n    }\r\n    async saveCompanyData(name,license_no,address,contact_no,email,description){\r\n        this.checkLogin()\r\n        var response = await axios.post(Config.companyApiUrl,{name})\r\n    }\r\n}\r\n\r\nexport default APIHandler"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,iBAAiB,QAAQ,sBAAsB;AACxD,MAAM;EAAEC,OAAO,EAAEC;AAAY,CAAC,GAAGC,OAAO,CAAC,eAAe,CAAC;AAEzD,MAAM;EAACF,OAAO,EAAEG;AAAM,CAAC,GAAGD,OAAO,CAAE,UAAU,CAAC;AAI9C,MAAME,UAAU;EACZ,MAAMC,UAAUA,CAAA,EAAE;IACd,IAAGJ,WAAW,CAACK,gBAAgB,CAAC,CAAC,EAAC;MAC9B,IAAIC,QAAQ,GAAG,MAAMT,KAAK,CAACU,IAAI,CAACL,MAAM,CAACM,aAAa,EAAC;QACjDC,OAAO,EAAET,WAAW,CAACU,eAAe,CAAC;MAAC,CAAC,CAAC;IAEhD;IACAZ,iBAAiB,CAACa,GAAG,CAAC,OAAO,EAACL,QAAQ,CAACM,IAAI,CAACC,MAAM,CAAC;EACvD;EACA,MAAMC,eAAeA,CAACC,IAAI,EAACC,UAAU,EAACC,OAAO,EAACC,UAAU,EAACC,KAAK,EAACC,WAAW,EAAC;IACvE,IAAI,CAAChB,UAAU,CAAC,CAAC;IACjB,IAAIE,QAAQ,GAAG,MAAMT,KAAK,CAACU,IAAI,CAACL,MAAM,CAACmB,aAAa,EAAC;MAACN;IAAI,CAAC,CAAC;EAChE;AACJ;AAEA,eAAeZ,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}